# Parameters 
$subscriptionName = PlayGround VerIT Infrastructure Development
$resourcegroupName = "GSSIT-InfraDev-DevOps-Test"

# Sign in
Add-AzAccount
Select-AzSubscription -SubscriptionName $subscriptionName

$cred = Get-Credential

New-AzVm `
    -ResourceGroupName $resourcegroupName `
    -Name "myVM" `
    -Location "EastUS" `
    -VirtualNetworkName "myVnet" `
    -SubnetName "mySubnet" `
    -SecurityGroupName "myNetworkSecurityGroup" `
    -PublicIpAddressName "myPublicIpAddress" `
    -Credential $cred
